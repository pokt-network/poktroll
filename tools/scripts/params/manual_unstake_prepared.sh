#!/bin/bash

# Check if file argument is provided
if [ $# -ne 1 ]; then
    echo "Usage: $0 <json_file>"
    echo "Example: $0 tools/scripts/migration/msg_import_morse_accounts_165497_2025-04-15.json"
    exit 1
fi

FILE="$1"

# Check if file exists
if [ ! -f "$FILE" ]; then
    echo "Error: File '$FILE' not found!"
    exit 1
fi

# Qspider
./tools/scripts/params/manual_unstake.sh -i -b "$FILE" \
    'c409a9e0d1be8780fe0b29dcdf72f8a879fb110c,08e5727cd7fbc4bc97ef3246da7379043f949f70,278654d9daf0e0be2c4e4da5a26c3b4149c5f6d0,81522de7711246fca147a34173dd2a462dc77a5a,c86b27e72c32b64db3eae137ffa84fec007a9062,79cbe645f2b4fa767322faf59a0093e6b73a2383,a86b6a5517630a23aec3dc4e3479a5818c575ac2,882f3f23687a9f3dddf6c65d66e9e3184ca67573,96f2c414b6f3afbba7ba571b7de360709d614e62,05db988509a25dd812dfd1a421cbf47078301a16,0a34d3d8339838975b374150c2db8fae2ce75240,0d7b3fbe06cca0b391fce2f7706c2cddf20b2f02,520afeba8edcc8cba167b0c2c3bdd6115e5e0ace,57c8eb2c16b02ed082226e99e28b957e1313ce1c,5c67f0d3e6cdc78955a43db00875185c371b567c'

# Weaver
./tools/scripts/params/manual_unstake.sh -i -b "$FILE" \
    '059f632b761efa2594084d1533500c1d0a73992a,366194942380432b4e924ee15810da31f3b3b43b,68cad0012c986766a09ba2f7c8bee9ef987e8825,8c3a7c2b9eb28e97c76ec1c1a0b45e5bd11f6a97,8f0f1e42cdeec02ff0181bffebc7ae799b97e5fb,91ce7a4eb88fce4588f13a53c7034a8b812319ca,aa5bd0aa86732982a2fcfc5340df0043a257a172,cb189d4e3766a3bedb4d903f017147fd58becf2a,d4dc0db1054b06180803c8806cdd046b956d3faf,d77c522cb31ff43c64d4a72e7a77c1da94d3dd20,690c20673dda6e22c84394a0b4a1f5a26ccc67f4,19cc3a084ed301f0694ff5b810ffb8dfb9e27d79,4c63ba35d43d883cfaab0fd522fc7488c88eb81e,05efd1f334c5770bc6e4e7f81e58fb97321e7e6b,5ac1c262dc0b363ceb74a6244f8f256bd11b2788,d7938daa780be40f215b361ff4cc77993d6c8d77,f277d60c828f0ad45cf42d8a0fcff31cd5bfa173,cf394f6c2f05d24d47519c4b3ade2d43b85591a1,b545596a1ef7e10e340ecf9c58d219803798a24c,9008b5c41421ec70902c583e562a2c7eccf30f19,009020009198ab6fec5c6729fb459fd7e4c64ff7,8f9cb94b57511c5069160b5570969442a5e9804c,6490ea7d7621c4ec583de23dc786fcb7aa4d9ccd,45dd192f373ec7e516c50428ef9d85e6a49b1687,cf455d28876ce38887173e3f373125de380832d6,491e793afe61a8fada7ede042c6904e8a1a7b23d,9fc2afa3ec59c1925f2d58d19e08aa1e78a12d28,e7465e3fcc9803f0722c5961c313a9931a919d12,fdebdae81a36ac67e675f95f0d32fec2f9d2f4cc,59102f8b81ca35fbce226790e539ef1512cc3090,b788049241c8787810d33117cf86f2cec0896102,6d6dfdded97ddbf3c9af3bc79efa5c57d485d4c1,f8c8c0d5c44c0323d18aeb810153e6fd0bcbd4cb,4a9dbc5e1f0eef124c1739ed76a81a435199e5d8,b3782a1b73d7066932eb5abafda7f844eac3931a,41d83ad348342529836c24563fb6b669fb40a900,71bc603dfa9754090a177539c8f259b76c05196d,4a4840b63214a954de467f93f35e7585dcd3aa07,caf956a3ed6886de9e88d4018918c45ba7be9d4e,812601bb2232e0bc853e6ab4008d3581c68b6de7,302306a7de0b87c63e1c4f292b85491ce37f1ac4,dadd9827cb0bb073f2dc601a6aece8643d76a1e6,c70b582f9309a2cf94c39ac151cf83227c375672,6c44c6ee6974797c633adaaa94085b66e475aeb2,f8c6c022ff04a8853414472e4cbec6a913a2ed88,e51da7598531483c805ff2f2456c07ec5e1ddd1b,a58abfb3f04d42a9b67d2d0709c1f3b9a19b9d1e,7ba2c2deff941316b91b02a62e8363cb22822cdc,4d0340f0ba031da78664fe3e5485045f0a6b005e,fbdb84f8542ab2d3f5d583fbfa6b2b5441df3a04,bedfe3a087f6d01202916b8993e604d2dcc678f0,8e00c314d575bdabd3abc97f3fafe4fcbd294fd5,103ea4e4484a20072355aa10d06e0761defb679c,5c5ff3a6f6ac62d2275e79f06ddba383c86468ee,5432f35a442bba609f5ae0e640b64c3a7271865f,9b4ed7db55e7c0d4d186a2a85971b5802899e45f,d739298fc75988b45a7ed96bfe11302d5ba7516a,aab68d3daec3231ca176ca9ad050b21d8f3d8e98,8af02f43ee2b96897156c406fd4f65ae77f9f4b3,9d3ea6f69d7e7a86b531ef2d9b761fb8f9d70c74,ce1496744b7528acf623379a2170cb03174df3a9,7fe158fe7969ef59d55ea1fb71ac98531bb60bd6,8b24158d8c3ea2e864b6500cbf96643867e6f461,227c9d22e6143bdc8a497f9ee0ded643a92a2c74,43d2ac5f245a87d11233fca1914e1f10026f5e11,061485e106a2de1c7e37d171c0b8fadc6656df9c,a5417b42d4a13cae59a4748d8cadd682cb34e59b,6f9641eee79b06b07b6a34b7b84fcaa0a56d1952,1ba79be3371f97e425c6f5f61d13e5466cf8424f,913ec66a30f85bf83a8352a7653e731b927c321c,021ca1326dba3690a98a27ffb70b95b119840308,0b820a22ecefb16217364b8d372ed96d2e0f96b7,af7d381d5ab3759d332c36f5ce33f0624b9755ed,394118106a5561c9028fbf5839e4a7384d500d86,b1727dae8a7ac5db1bf2eb0ffa561b161013ded5,d3ed87d41a4c143d97845e374d56d03b30e1716e,33950d260ce7dd229294e4103ed61570cf087481,2f83106f050c1b07ef0174c6f1cfce79f7618ec9,d11ddf886c84252f4739bb8b2579c0b2236db3e7,8d934a09213577689eec0656b5e46ac4d761855b,e8f7cfc3cf0039ff9f19c448f8738106b40ee102,f24ff4f9375efc1ee3d811d3cb92812b352e41dc,727e16f5f4ccb777ac87ca46b60fd921604f8e78,22b725a1ba679a21aeaf53533636c1e34310fc45,2e5456a24898123af61e026b98a07bf27487e857,f7c340ce25c2a4f038152c09d60f0d7c7ee24345,f0effe58fe9852bc12f8ee2a41cc5a847533c66b,0115e302dcb434d84f70e89632f2cf612cccfdb3,6c1612f31b2e0c29246676d4e3d2342c8c9013b2,a5461c6c7033f8001386282e7d6b89888e511b48,addb4c17503ed0466c80780429ceae8d9b52a25f,476eb773a056501be64e2354da1cf7970223b600,5300024b0594f19f8857a618b8a2ae19da64650f,f14d82a6d71b7ab2564776192ba8416b8bf7797d,7e41228c04951d2d871e79bffb470af96c2d323c,d44c0ece762989bee9733215bf6c32c511ab016e,268d0c53bf1d312b3d6291c848351ecea3d1f761,bca6b4c954b98d2429728158c709667f9d529b00,f9932109e5d0dcfdfb239e605cf1e9612f09e0a2,16861023e1f53998d509c9dbc80337405f993383'

# Stakenodes
./tools/scripts/params/manual_unstake.sh -i -b "$FILE" \
    '9545fe76ec7d9636338d4e2c2ba372f54d62b714,4d86fcd840944c96efe89ebb513dabdcaba0e1c2,43ef6731590abb15abe08c088abaad33ef04c359,159c7bb146e0baf04f55a0f2891b91397d6ac0f9,cd17342e2cffeb409ab2795baffa189cdfaf98f5,830898a141aa77d39183d36814edad43345dca36,3bdfd3bdaf6e20a43e2a3ed8a1d89286c57c29d8,48a402b1821f6b9833ae61a49bce3f8e84764c4c,ad83ad385a0b3b4421feb539925af271dcb1c96c,4cf2a1489815ab552ea6b79acc3e60578f54595b,cfd0059e4d7ee8833a3bdef707728274be42bb0b,c10ba76eb359fcc05f808f4c24c92f1a0c575805,9db1a1e2cda3b6923d0c0724667b30476d0bfe6f,5f0bafe98682b16cdcad084bf6d95e0217e4b878,7ecb095ad652d74b77a93d1857779a70e442eb79,1607578aad09611188292a961083cff3924f16ca,c0e9e8a5f3f4037069765bfb7cb226e158456687,e2c9c25a64d366afd756f4a7d8e9b0d85a52e635,03ef3c51bbcd7ab35c7a64d949c2fdad36de8b2c,ea25004af06b42ff304a79336d6f995a96b28bc6,6ed8d725d9e9c8802b7a11ded0a404ddeb648fcc,582c536f31e3b138865ed996949e27f8bee17f75,eca3640ff3fd05fd5083f17573d49ab5451d3ab6,6393732fc88d37cd46425a770b8b1363f399dcf4,9e32601c5a4569dcf7132035c43dfdb732080d04,e9e7b80181b684913494f7c550b2b13108043dd6,7f4ad3b3ac8159e8770ba420dc9dd70449312598,b8443569281096ac95930317a66f7dba57c21b90,647f54035d54593273a0284e7dc7f79dc3f19a50,b3975c1a6eaa19cbca0eed01b2be855d5b49e2dd,30dddccb52dc791239b4e822ddeb952754dd21b8,32d9a21d5431ab940e38d2627fdbad9d87edb8f9,1b5358b57347298bed11746798ec62dcfb310652,5734057ec14da0b161e7847774f61ab8c0744860,9db5788a314b15666c7cd1edc207b55164701a66,f7a89887ae02e9dd60deb871abe59130114dc3a0,a64fd75e5b18bb9d1b487a0a566b596c5e8aa943,010d01a92ede3156a5b9c4dbd155b9c747029f9f,93af4d2c69db4fa80788107c49bf350abb13aaa7,c6ae10450a9f2d0c0feaa509dbe793393f052cba,36d54e8663ef0ad131eb361cb52566c411adef70,f8da87ba78ac65ddec9cb8b5fded63f5ba27361b,0fc817c58d590022dc198811538a3f019e50255e,269f2903c6c153c4dde60eb78484ead309e805bd,c848c6d837047669f047aa6d393cc3f183ae0068,67875de3ee3b204c0eac3eb66fc6668dca22e2b0,0fec0879e3692b635ab695acb8e653e739167798,02c499b46cb3eac41342d4b865f33f82d0e48b29,204de769cc45d578cff1c97cf42ed2e91a38b188,76e39c905ddbbd67c4ded79bcef2f6b50531cbc6,c3f63257d8751a69cb9ea60464583e8f1e13bdd1,e2d383864b187ed58e568ce64ff2c9e09a74e491,237f03ff4c4bccf11a11d3978ea3b56be513209d,2261fc72f694d36ede525f8a988b74ce7fcec5d6,67afe50c2bbb08aa91e78c00406c7b892381c91b,c73f6a372ee54995102874c6e18ed9fcd5fbfe63,b48a360d927d77fdd453392134d2c09c9c57259d,1984d472792d3fd2513b18cacfb2d5997c904201,f7e47805c4af917cfbbed0c7fadcb28534965cd0,4034f50ebc3274bf0bd9325cbb75e00c831ba163,21d474f57838de4f0f1a99170a513257c7a0eb9d,f138308e0deaa8d344474943ab631684886048ba,f81d84fea067ca3bf50010f5d613883cfec2faed,daba5241a2221f9bd002279e683171915c757fd6,c91d7036d2043fafb374589bf86853edde4f0405'

# Spacebelt
./tools/scripts/params/manual_unstake.sh -i -b "$FILE" \
    '059f632b761efa2594084d1533500c1d0a73992a,366194942380432b4e924ee15810da31f3b3b43b,68cad0012c986766a09ba2f7c8bee9ef987e8825,8c3a7c2b9eb28e97c76ec1c1a0b45e5bd11f6a97,8f0f1e42cdeec02ff0181bffebc7ae799b97e5fb,91ce7a4eb88fce4588f13a53c7034a8b812319ca,aa5bd0aa86732982a2fcfc5340df0043a257a172,cb189d4e3766a3bedb4d903f017147fd58becf2a,d4dc0db1054b06180803c8806cdd046b956d3faf,d77c522cb31ff43c64d4a72e7a77c1da94d3dd20,690c20673dda6e22c84394a0b4a1f5a26ccc67f4,19cc3a084ed301f0694ff5b810ffb8dfb9e27d79,4c63ba35d43d883cfaab0fd522fc7488c88eb81e,05efd1f334c5770bc6e4e7f81e58fb97321e7e6b,5ac1c262dc0b363ceb74a6244f8f256bd11b2788,d7938daa780be40f215b361ff4cc77993d6c8d77,f277d60c828f0ad45cf42d8a0fcff31cd5bfa173,cf394f6c2f05d24d47519c4b3ade2d43b85591a1,b545596a1ef7e10e340ecf9c58d219803798a24c,9008b5c41421ec70902c583e562a2c7eccf30f19,009020009198ab6fec5c6729fb459fd7e4c64ff7,8f9cb94b57511c5069160b5570969442a5e9804c,6490ea7d7621c4ec583de23dc786fcb7aa4d9ccd,45dd192f373ec7e516c50428ef9d85e6a49b1687,cf455d28876ce38887173e3f373125de380832d6,491e793afe61a8fada7ede042c6904e8a1a7b23d,9fc2afa3ec59c1925f2d58d19e08aa1e78a12d28,e7465e3fcc9803f0722c5961c313a9931a919d12,fdebdae81a36ac67e675f95f0d32fec2f9d2f4cc,59102f8b81ca35fbce226790e539ef1512cc3090,b788049241c8787810d33117cf86f2cec0896102,6d6dfdded97ddbf3c9af3bc79efa5c57d485d4c1,f8c8c0d5c44c0323d18aeb810153e6fd0bcbd4cb,4a9dbc5e1f0eef124c1739ed76a81a435199e5d8,b3782a1b73d7066932eb5abafda7f844eac3931a,41d83ad348342529836c24563fb6b669fb40a900,71bc603dfa9754090a177539c8f259b76c05196d,4a4840b63214a954de467f93f35e7585dcd3aa07,caf956a3ed6886de9e88d4018918c45ba7be9d4e,812601bb2232e0bc853e6ab4008d3581c68b6de7,302306a7de0b87c63e1c4f292b85491ce37f1ac4,dadd9827cb0bb073f2dc601a6aece8643d76a1e6,c70b582f9309a2cf94c39ac151cf83227c375672,6c44c6ee6974797c633adaaa94085b66e475aeb2,f8c6c022ff04a8853414472e4cbec6a913a2ed88,e51da7598531483c805ff2f2456c07ec5e1ddd1b,a58abfb3f04d42a9b67d2d0709c1f3b9a19b9d1e,7ba2c2deff941316b91b02a62e8363cb22822cdc,4d0340f0ba031da78664fe3e5485045f0a6b005e,fbdb84f8542ab2d3f5d583fbfa6b2b5441df3a04,bedfe3a087f6d01202916b8993e604d2dcc678f0,8e00c314d575bdabd3abc97f3fafe4fcbd294fd5,103ea4e4484a20072355aa10d06e0761defb679c,5c5ff3a6f6ac62d2275e79f06ddba383c86468ee,5432f35a442bba609f5ae0e640b64c3a7271865f,9b4ed7db55e7c0d4d186a2a85971b5802899e45f,d739298fc75988b45a7ed96bfe11302d5ba7516a,aab68d3daec3231ca176ca9ad050b21d8f3d8e98,8af02f43ee2b96897156c406fd4f65ae77f9f4b3,9d3ea6f69d7e7a86b531ef2d9b761fb8f9d70c74,ce1496744b7528acf623379a2170cb03174df3a9,7fe158fe7969ef59d55ea1fb71ac98531bb60bd6,8b24158d8c3ea2e864b6500cbf96643867e6f461,227c9d22e6143bdc8a497f9ee0ded643a92a2c74,43d2ac5f245a87d11233fca1914e1f10026f5e11,061485e106a2de1c7e37d171c0b8fadc6656df9c,a5417b42d4a13cae59a4748d8cadd682cb34e59b,6f9641eee79b06b07b6a34b7b84fcaa0a56d1952,1ba79be3371f97e425c6f5f61d13e5466cf8424f,913ec66a30f85bf83a8352a7653e731b927c321c,021ca1326dba3690a98a27ffb70b95b119840308,0b820a22ecefb16217364b8d372ed96d2e0f96b7,af7d381d5ab3759d332c36f5ce33f0624b9755ed,394118106a5561c9028fbf5839e4a7384d500d86,b1727dae8a7ac5db1bf2eb0ffa561b161013ded5,d3ed87d41a4c143d97845e374d56d03b30e1716e,33950d260ce7dd229294e4103ed61570cf087481,2f83106f050c1b07ef0174c6f1cfce79f7618ec9,d11ddf886c84252f4739bb8b2579c0b2236db3e7,8d934a09213577689eec0656b5e46ac4d761855b,e8f7cfc3cf0039ff9f19c448f8738106b40ee102,f24ff4f9375efc1ee3d811d3cb92812b352e41dc,727e16f5f4ccb777ac87ca46b60fd921604f8e78,22b725a1ba679a21aeaf53533636c1e34310fc45,2e5456a24898123af61e026b98a07bf27487e857,f7c340ce25c2a4f038152c09d60f0d7c7ee24345,f0effe58fe9852bc12f8ee2a41cc5a847533c66b,0115e302dcb434d84f70e89632f2cf612cccfdb3,6c1612f31b2e0c29246676d4e3d2342c8c9013b2,a5461c6c7033f8001386282e7d6b89888e511b48,addb4c17503ed0466c80780429ceae8d9b52a25f,476eb773a056501be64e2354da1cf7970223b600,5300024b0594f19f8857a618b8a2ae19da64650f,f14d82a6d71b7ab2564776192ba8416b8bf7797d,7e41228c04951d2d871e79bffb470af96c2d323c,d44c0ece762989bee9733215bf6c32c511ab016e,268d0c53bf1d312b3d6291c848351ecea3d1f761,bca6b4c954b98d2429728158c709667f9d529b00,f9932109e5d0dcfdfb239e605cf1e9612f09e0a2,16861023e1f53998d509c9dbc80337405f993383'

### Update the sha256 hash (`morse_account_state_hash`).
#
# func TestUpdatedMorseAccountStateHash(t *testing.T) {
# 	msgBz, err := os.ReadFile("<absolute path to repo>/tools/scripts/migration/msg_import_morse_accounts_m169825_t179148.json")
# 	require.NoError(t, err)
#
# 	var msg migrationtypes.MsgImportMorseClaimableAccounts
# 	err = cmtjson.Unmarshal(msgBz, &msg)
# 	require.NoError(t, err)
#
# 	err = msg.ValidateBasic()
# 	require.NoError(t, err)
#
# 	morseAccountStateHash, err := msg.MorseAccountState.GetHash()
# 	require.NoError(t, err)
#
# 	t.Logf("hash: %s", base64.StdEncoding.EncodeToString(morseAccountStateHash))
# 	require.Equal(t, "w5/Sf4c1L9/G5eYPC0wvrI3ynzwlnxcka0C8ULB9sMc=", base64.StdEncoding.EncodeToString(morseAccountStateHash))
# }
jq '.morse_account_state_hash = "w5/Sf4c1L9/G5eYPC0wvrI3ynzwlnxcka0C8ULB9sMc="' ./tools/scripts/migration/msg_import_morse_accounts_m169825_t179148.json > ./temp.json && mv ./temp.json ./tools/scripts/migration/msg_import_morse_accounts_m169825_t179148.json
