version: 1

build:
  main: cmd/poktrolld

# Pocket Network Shadow MainNet Genesis Account Balances
#
# | Account    | Balance           | Explanation                   |
# |------------|-------------------|-------------------------------|
# | pnf        | 10,000,000 POKT   | [Explanation placeholder]     |
# | grove      | 10,000,000 POKT   | [Explanation placeholder]     |
# | groveval1  | 100,000 POKT      | [Explanation placeholder]     |
# | groveval2  | 100,000 POKT      | [Explanation placeholder]     |
# | groveval3  | 100,000 POKT      | [Explanation placeholder]     |
# | groveval4  | 100,000 POKT      | [Explanation placeholder]     |
# | groveval5  | 100,000 POKT      | [Explanation placeholder]     |

accounts:
  ####### PNF Account #######
  # pnf is the account of the Pocket Network Foundation managing governance and
  # acting on behalf of the DAO.
  - name: pnf
    # address: "pokt_UPDATE_TODO_IN_THIS_PR_UPDATE_SO_ITS_NOT_RANDOMLY_GENERATED"
    coins:
      - 10000000000000upokt # 10M POKT (unbonded)

  ####### Grove Account #######
  # grove is the account of GROVE Inc, acting as a close partner of PNF during
  # the research, development, deployment, migration, operation, maintenance, and
  # continuous iteration of Pocket Network.
  - name: grove
    # address: "pokt_UPDATE_TODO_IN_THIS_PR_UPDATE_SO_ITS_NOT_RANDOMLY_GENERATED"
    coins:
      - 10000000000000upokt # 10M POKT (unbonded)

  ####### Grove Validator Accounts ######
  #
  # The addresses for groveval1...groveval5 are explicitly omitted since they'll
  # be randomly generated during the conversion of this config.yml to a genesis.json
  # using the ignite CLI; https://github.com/ignite/cli.
  #
  # This enables streamlining and automating the process of the genesis creation
  # for reproducibility and testing while maintaining the two accounts above (grove & pnf)
  # hard-coded for security.
  #
  # Grove team members will be responsible for capturing the mnemonic seed phrase
  # validators groveval1...groveval5 during the genesis.json creation process.

  # groveval1 is the first genesis validator of Pocket Network's Shadow MainNet genesis operated by Grove.
  - name: groveval1
    # address: explicitly omitted; see comment above.
    coins:
      - 100000000000upokt # 100K POKT (15K bonded below 85K remaining for tx fees, slashing, etc...)

  # groveval2 is the second genesis validator of Pocket Network's Shadow MainNet genesis  operated by Grove.
  - name: groveval2
    # address: explicitly omitted; see comment above.
    coins:
      - 100000000000upokt # 100K POKT (15K bonded below 85K remaining for tx fees, slashing, etc...)

  # groveval3 is the third genesis validator of Pocket Network's Shadow MainNet genesis operated by Grove.
  - name: groveval3
    # address: explicitly omitted; see comment above.
    coins:
      - 100000000000upokt # 100K POKT (15K bonded below 85K remaining for tx fees, slashing, etc...)

  # groveval4 is the fourth genesis validator of Pocket Network's Shadow MainNet genesis  operated by Grove.
  - name: groveval4
    # address: explicitly omitted; see comment above.
    coins:
      - 100000000000upokt # 100K POKT (15K bonded below 85K remaining for tx fees, slashing, etc...)

  # groveval5 is the fifth genesis validator of Pocket Network's Shadow MainNet genesis  operated by Grove.
  - name: groveval5
    # address: explicitly omitted; see comment above.
    coins:
      - 100000000000upokt # 100K POKT (15K bonded below 85K remaining for tx fees, slashing, etc...)

####### Validator Configs ######
# See `cmd/poktrolld/cmd/config.go` for default CometBFT and AppChain values.
validators:
  - name: groveval1
    bonded: 15000000000upokt # 15K POKT (bonded)
  - name: groveval2
    bonded: 15000000000upokt # 15K POKT (bonded)
  - name: groveval3
    bonded: 15000000000upokt # 15K POKT (bonded)
  - name: groveval4
    bonded: 15000000000upokt # 15K POKT (bonded)
  - name: groveval5
    bonded: 15000000000upokt # 15K POKT (bonded)

# We can persist arbitrary genesis values via 1 to 1 mapping to genesis.json
genesis:
  app_name: poktroll
  chain_id: poktroll

  app_state:
    # See the consensus module for all other relevant parameters.
    # Ignite generate defaults in genesis.json with the values as explicit overrides.
    # https://docs.cosmos.network/main/build/modules/consensus
    consensus:
      params:
        block:
          max_bytes: "22020096" # 21MB per block is the max using txs from the mempool; onchain events may lead to larger blocks.
          unbonding_time: "362880s" # 4.2 days

    # See the mint module for all other relevant parameters.
    # Ignite generate defaults in genesis.json with the values as explicit overrides.
    # https://docs.cosmos.network/main/build/modules/mint
    mint:
      params:
        mint_denom: upokt
        # In Pocket Network, majority of inflation/deflation comes from the utility of the network.
        # Validators (i.e. proposers) are rewarded by the x/tokenomics module based on network utility.
        # Block rewards, independent of network utility, are set to 0 at genesis.
        # See x/tokenomics module for more details.
        inflation_rate_change: "0.0"
        inflation_max: "0.0"
        inflation_min: "0.0"
        # These parameters are included for posterity but commented out for clarity
        # goal_bonded: "NA"
        # blocks_per_year: "NA"
        # max_supply: "NA"

    # See the mint module for all other relevant parameters.
    # Ignite generate defaults in genesis.json with the values as explicit overrides.
    # https://docs.cosmos.network/main/build/modules/staking
    staking:
      params:
        bond_denom: upokt
        # This file configures Pocket Network Shadow MainNet to have 5 Grove validators out of a total of 10.
        #
        # Prior to the snapshot claim event: In order for other Validators to join the network,
        # either Grove or PNF (the only actors with tokens) will need to distribute tokens to them.
        #
        # After the snapshot claim event: Validators can join the network by claiming tokens from the Morse
        # snapshot, and do with them as they wish. At that point, the number of max validators will be increased
        # as well.
        max_validators: 10

    # See the gov module for all other relevant parameters.
    # Ignite generate defaults in genesis.json with the values as explicit overrides.
    # https://docs.cosmos.network/main/build/modules/gov
    gov:
      # At the time of Pocket Network's Shadow MainNet genesis, onchain voting is not used.
      # PNF (an offchain entity) acts on behalf of the DAO (an offchain entity) to perform onchain governance transactions.
      #
      # To prevent onchain governance transactions from interfering with the chain, an extremely high deposit is set.
      #
      # When the network is ready for onchain governance, these and other parameters will need to be adjusted via authz transactions.
      params:
        min_deposit:
          - amount: "42069420694206942069420694206942069420694206942069" # Very high deposit (not possible based on supply) to prevent onchain governance at time of genesis.
            denom: upokt

    # TODO_IN_THIS_PR: verify parameters.
    application:
      params:
        max_delegated_gateways: "7"
        min_stake:
          amount: "100000000" # 100 POKT
          denom: upokt
      applicationList: [] # Intentionally omitted; no applications pre-staked at genesis.

    # TODO_IN_THIS_PR: verify parameters.
    supplier:
      params:
        min_stake:
          amount: "1000000" # 1 POKT
          denom: upokt
        # TODO_BETA(@bryanchriswhite): Determine realistic amount for supplier staking fee.
        staking_fee:
          amount: "1" # 1 uPOKT
          denom: upokt
      supplierList: [] # Intentionally omitted; no suppliers pre-staked at genesis.

    # TODO_IN_THIS_PR: verify parameters.
    gateway:
      params:
        # TODO_BETA(@bryanchriswhite): Determine realistic amount for minimum gateway stake amount.
        min_stake:
          amount: "1000000" # 1 POKT
          denom: upokt
      gatewayList: [] # Intentionally omitted; no gateways pre-staked at genesis.

    # TODO_IN_THIS_PR: verify parameters.
    service:
      params:
        add_service_fee:
          amount: "1000000000"
          denom: upokt
        target_num_relays: 100000
      serviceList: [] # Intentionally omitted; no services pre-staked at genesis.

    # TODO_IN_THIS_PR: verify parameters.
    proof:
      params:
        proof_request_probability: "0.25"
        proof_requirement_threshold:
          amount: "20000000"
          denom: upokt
        proof_missing_penalty:
          amount: "320000000"
          denom: upokt
        proof_submission_fee:
          amount: "1000000"
          denom: upokt

    # TODO_IN_THIS_PR: verify parameters. Keeping morse value?
    session:
      params:
        num_suppliers_per_session: 15

    # TODO_IN_THIS_PR: verify parameters.
    shared:
      params:
        num_blocks_per_session: 10
        grace_period_end_offset_blocks: 1
        claim_window_open_offset_blocks: 1
        claim_window_close_offset_blocks: 4
        proof_window_open_offset_blocks: 0
        proof_window_close_offset_blocks: 4
        supplier_unbonding_period_sessions: 1
        application_unbonding_period_sessions: 1
        gateway_unbonding_period_sessions: 1
        compute_units_to_tokens_multiplier: 42

    # TODO_IN_THIS_PR: verify parameters.
    tokenomics:
      params:
        # TODO_IN_THIS_PR: Make this the x/gov address and ensure PNF can send funds on its behalf.
        dao_reward_address: "pokt1eeeksh2tvkh7wzmfrljnhw4wrhs55lcuvmekkw"
        global_inflation_per_claim: 0
        mint_allocation_percentages:
          dao: 0.1
          proposer: 0.1
          supplier: 0.7
          source_owner: 0.1
          application: 0.0
