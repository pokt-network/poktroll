version: 1

build:
  main: cmd/poktrolld

accounts:
  ####### PNF Account #######
  # pnf is the account of the Pocket Network Foundation managing governance and
  # acting on behalf of the DAO.
  - name: pnf
    # address: "pokt_UPDATE_TODO_IN_THIS_PR_UPDATE_SO_ITS_NOT_RANDOMLY_GENERATED"
    coins:
      - 10000000000000upokt # 10M POKT (unbonded)

  ####### Grove Account #######
  # grove is the account of GROVE Inc, acting as a close partner of PNF during
  # the research, development, deployment, migration, operation, maintenance, and
  # continuous iteration of Pocket Network.
  - name: grove
    # address: "pokt_UPDATE_TODO_IN_THIS_PR_UPDATE_SO_ITS_NOT_RANDOMLY_GENERATED"
    coins:
      - 10000000000000upokt # 10M POKT (unbonded)

  ####### Grove Validator Accounts ######
  #
  # The addresses for groveval1...groveval5 are explicitly omitted since they'll
  # be randomly generated during the conversion of this config.yml to a genesis.json
  # using the ignite CLI; https://github.com/ignite/cli.
  #
  # This enables streamlining and automating the process of the genesis creation
  # for reproducibility and testing while maintaining the two accounts above (grove & pnf)
  # hard-coded for security.
  #
  # Grove team members will be responsible for capturing the mnemonic seed phrase
  # validators groveval1...groveval5 during the genesis.json creation process.

  # groveval1 is the first genesis validator of Pocket Network's Shadow MainNet operated by Grove.
  - name: groveval1
    # address: explicitly omitted; see comment above.
    coins:
      - 100000000000upokt # 100K POKT (15K bonded below 85K remaining for tx fees, slashing, etc...)

  # groveval2 is the first genesis validator of Pocket Network's Shadow MainNet operated by Grove.
  - name: groveval2
    # address: explicitly omitted; see comment above.
    coins:
      - 100000000000upokt # 100K POKT (15K bonded below 85K remaining for tx fees, slashing, etc...)

  # groveval3 is the first genesis validator of Pocket Network's Shadow MainNet operated by Grove.
  - name: groveval3
    # address: explicitly omitted; see comment above.
    coins:
      - 100000000000upokt # 100K POKT (15K bonded below 85K remaining for tx fees, slashing, etc...)

  # groveval4 is the first genesis validator of Pocket Network's Shadow MainNet operated by Grove.
  - name: groveval4
    # address: explicitly omitted; see comment above.
    coins:
      - 100000000000upokt # 100K POKT (15K bonded below 85K remaining for tx fees, slashing, etc...)

  # groveval5 is the first genesis validator of Pocket Network's Shadow MainNet operated by Grove.
  - name: groveval5
    # address: explicitly omitted; see comment above.
    coins:
      - 100000000000upokt # 100K POKT (15K bonded below 85K remaining for tx fees, slashing, etc...)

####### Validator Configs ######
validators:
  - name: groveval1
    bonded: 15000000000upokt
    # TODO_IN_THIS_PR: check defaults in `cmd/poktrolld/cmd/config.go` - as this is THE spot for default values, not below.
    # Values below will only change config for the first validator.
    app:
      minimum-gas-prices: 0.000001upokt
      telemetry:
        enabled: true
      poktroll:
        telemetry:
          # "high" produces a lot of timeseries.
          # ONLY suitable for small networks such as LocalNet.
          cardinality-level: medium
      api:
        swagger: true
    config:
      moniker: "groveval1"
      consensus:
        # TODO_IN_THIS_PR: keep morse 15m or lower to 10m?
        timeout_commit: "10m"
        timeout_propose: "10m"
      instrumentation:
        prometheus: true
      log_level: "info"
      # Increase the rpc and mempool max bytes to support large transactions.
      # DEV_NOTE: These values were selected arbitrarily, but chosen to be large,
      # as a result of load testing and seeing large proof messages during the
      # Claim & Proof lifecycle.
      # TODO_IN_THIS_PR: check what we've got on beta.
      rpc:
        # Controls how large any single RPC request accepted by the CometBFT
        # server (offchain) can be.
        max_body_bytes: "100000000"
      mempool:
        # Control how big any single transaction accepted by the CometBFT server
        # (offchain) can be.
        # Since multiple messages are bundled into a single transaction,
        # max_tx_bytes needs to be increased alongside max_txs_bytes as well.
        max_tx_bytes: "100000000"
    client:
      chain-id: pocket # TODO_IN_THIS_PR: is this correct?

# We can persist arbitrary genesis values via 1 to 1 mapping to genesis.json
genesis:
  app_state:
    consensus:
      params:
        block:
          max_bytes: "22020096" # TODO_IN_THIS_PR: what should we set this to? Note that on BETA we somehow have larger blocks even when this value is the same.
    # https://docs.cosmos.network/main/build/modules/mint
    mint:
      params:
        mint_denom: upokt
        # Note that in Pocket Network, the majority of the inflation/deflation
        # comes from the utility of network, not just the validators that
        # secure it. Therefore, the inflation params of x/mint are set to 0.
        # See x/tokenomics for all details related to token inflation.
        inflation_rate_change: "0.0"
        inflation_max: "0.0"
        inflation_min: "0.0"
        # These parameters are included for posterity but commented out for clarity
        # goal_bonded: "NA"
        # blocks_per_year: "NA"
        # max_supply: "NA"
    staking:
      params:
        bond_denom: upokt
        max_validators: 10
    crisis: # TODO_IN_THIS_PR: look into this, I think x/crisis is deprecated. NVM, will be gone in v0.53: https://github.com/cosmos/cosmos-sdk/pull/23722/files. What the value should this be?
      constant_fee:
        amount: "10000"
        denom: upokt
    gov:
      # This module allows to submit and vote on proposals, and when they are passed - they can be Messages can be executed automatically. E.g. upgrade is one of these proposal types.
      # TODO_IN_THIS_PR: since we have an off-chain DAO, we need to turn off x/gov OR make deposits too expensive to submit proposals on chain.
      params:
        # We have an authz authorization to adjust this if necessary.
        min_deposit:
          - amount: "42069420694206942069420694206942069420694206942069"
            denom: upokt
    bank:
      supply:
        []
        # - amount: "1000000000" # TODO_IN_THIS_PR: should be empty if we don't pre-stake any actors?
        #   denom: upokt
      balances:
        []
        # # TODO_IN_THIS_PR: As we don't pre-stake any actors, we shouldn't need to add balances here. Correct?
        # # # Application module
        # - address: pokt1rl3gjgzexmplmds3tq3r3yk84zlwdl6djzgsvm
        #   coins:
        #     # TODO_MAINNET(@olshansk): Pass config.yml into ChatGPT to build a script
        #     # that ensures the amounts line up
        #     - amount: "0" # MUST BE equal to the total of all app stakes below
        #       denom: upokt
        # # Supplier module
        # - address: pokt1j40dzzmn6cn9kxku7a5tjnud6hv37vesr5ccaa
        #   coins:
        #     - amount: "0" # MUST BE equal to the total of all supplier stakes below
        #       denom: upokt
        # # Gateway module
        # - address: pokt1f6j7u6875p2cvyrgjr0d2uecyzah0kget9vlpl
        #   coins:
        #     - amount: "0" # MUST BE equal to the total of all gateway stakes below
        #       denom: upokt
        # # Service module
        # - address: pokt1nhmtqf4gcmpxu0p6e53hpgtwj0llmsqpxtumcf
        #   coins:
        #     - amount: "1000000000" # MUST BE equal to one add_service_fee below - TODO_IN_THIS_PR: is this correct if we don't have any service?
        #       denom: upokt
    application:
      # TODO_IN_THIS_PR: verify parameters.
      params:
        max_delegated_gateways: "7"
        min_stake:
          amount: "100000000" # 100 POKT
          denom: upokt
      applicationList: []
    supplier:
      # TODO_IN_THIS_PR: verify parameters.
      params:
        # TODO_BETA(@bryanchriswhite): Determine realistic amount for minimum gateway stake amount.
        min_stake:
          amount: "1000000" # 1 POKT
          denom: upokt
        # TODO_BETA(@bryanchriswhite): Determine realistic amount for supplier staking fee.
        staking_fee:
          amount: "1" # 1 uPOKT
          denom: upokt
      supplierList: []
    gateway:
      # TODO_IN_THIS_PR: verify parameters.
      params:
        # TODO_BETA(@bryanchriswhite): Determine realistic amount for minimum gateway stake amount.
        min_stake:
          amount: "1000000" # 1 POKT
          denom: upokt
      gatewayList: []
    service:
      # TODO_IN_THIS_PR: verify parameters.
      params:
        add_service_fee:
          amount: "1000000000"
          denom: upokt
        target_num_relays: 100000
      serviceList: []
    proof:
      # TODO_IN_THIS_PR: verify parameters.
      params:
        proof_request_probability: "0.25"
        proof_requirement_threshold:
          amount: "20000000"
          denom: upokt
        proof_missing_penalty:
          amount: "320000000"
          denom: upokt
        proof_submission_fee:
          amount: "1000000"
          denom: upokt
    session:
      # TODO_IN_THIS_PR: verify parameters. Keeping morse value?
      params:
        num_suppliers_per_session: 15
    tokenomics:
      # TODO_IN_THIS_PR: verify parameters.
      params:
        mint_allocation_percentages:
          dao: 0.1
          proposer: 0.05
          supplier: 0.7
          source_owner: 0.15
          application: 0.0
        # The dao reward address SHOULD match that of the "pnf" below (i.e. `make poktrolld_addr ACC_NAME=pnf`).
        # This is the address that will receive the dao/foundation rewards during claim settlement (global mint TLM).
        # TODO_MAINNET(@olshansk): Consolidate the usage of DAO/PNF throughout the configs & codebase.
        # TODO_IN_THIS_PR: change address to PNF address.
        dao_reward_address: "pokt1eeeksh2tvkh7wzmfrljnhw4wrhs55lcuvmekkw"
        global_inflation_per_claim: 0.1
    shared:
      # TODO_IN_THIS_PR: verify parameters.
      params:
        num_blocks_per_session: 10
        grace_period_end_offset_blocks: 1
        claim_window_open_offset_blocks: 1
        claim_window_close_offset_blocks: 4
        proof_window_open_offset_blocks: 0
        proof_window_close_offset_blocks: 4
        supplier_unbonding_period_sessions: 1
        application_unbonding_period_sessions: 1
        gateway_unbonding_period_sessions: 1
        compute_units_to_tokens_multiplier: 42
