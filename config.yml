version: 1
build:
  main: cmd/poktrolld
accounts:
  - name: faucet # Faucet - initial funds we need to test the network and bootstrap the migration from Morse.
    # TODO_IN_THIS_PR: use `address` if key should be created by third-party. Otherwise, it is generated randomly.
    # address: "pokt111"
    coins:
      - 999999999999999999upokt # TODO_IN_THIS_PR: how much is needed?
  # PNF represents the DAO address
  - name: pnf
    # TODO_IN_THIS_PR: use `address` if key should be created by third-party. Otherwise, it is generated randomly.
    # address: "pokt111"
    coins:
      - 69000000000000000000042upokt # TODO_IN_THIS_PR: how much is needed?
  - name: grove
    # TODO_IN_THIS_PR: use `address` if key should be created by third-party. Otherwise, it is generated randomly.
    # address: "pokt111"
    coins:
      - 69000000000000000000042upokt # TODO_IN_THIS_PR: how much is needed?
  - name: groveval1
    coins:
      - 900000000000000upokt
  - name: groveval2
    # TODO_IN_THIS_PR: use `address` if key should be created by third-party. Otherwise, it is generated randomly.
    # address: "pokt111"
    coins:
      - 900000000000000upokt
  - name: groveval3
    # TODO_IN_THIS_PR: use `address` if key should be created by third-party. Otherwise, it is generated randomly.
    # address: "pokt111"
    coins:
      - 900000000000000upokt
  - name: groveval4
    # TODO_IN_THIS_PR: use `address` if key should be created by third-party. Otherwise, it is generated randomly.
    # address: "pokt111"
    coins:
      - 900000000000000upokt
  - name: groveval5
    # TODO_IN_THIS_PR: use `address` if key should be created by third-party. Otherwise, it is generated randomly.
    # address: "pokt111"
    coins:
      - 900000000000000upokt
validators:
  - name: groveval1
    bonded: 1000000000upokt
    # DEV_NOTE: adjust `cmd/poktrolld/cmd/config.go` to change the default options. The section below **ONLY** changes
    # the values for the first validator, and the config is rendered using `ignite` cli. This is primarily used for
    # LocalNet. Other participants of the network are relying on `poktrolld init`, which gets values from `cmd/config.go`.
    app:
      # DEV_NOTE: Ignite does not carry over all defaults, so we are going to match `minimum-gas-prices` with `cmd/config.go`.
      # See the enhancement request here: https://github.com/ignite/cli/issues/4340
      # TODO_BETA(@okdas, #794): turn on `minimum-gas-prices` back
      # minimum-gas-prices: 0.000000001upokt
      telemetry:
        enabled: true
      poktroll:
        telemetry:
          # "high" produces a lot of timeseries.
          # ONLY suitable for small networks such as LocalNet.
          cardinality-level: medium
      api:
        swagger: true
    config:
      moniker: "groveval1"
      consensus:
        timeout_commit: "10m"
        timeout_propose: "10m"
      instrumentation:
        prometheus: true
      log_level: "info"
      # Increase the rpc and mempool max bytes to support large transactions.
      # DEV_NOTE: These values were selected arbitrarily, but chosen to be large,
      # as a result of load testing and seeing large proof messages during the
      # Claim & Proof lifecycle.
      rpc:
        # Controls how large any single RPC request accepted by the CometBFT
        # server (offchain) can be.
        max_body_bytes: "100000000"
      mempool:
        # Control how big any single transaction accepted by the CometBFT server
        # (offchain) can be.
        # Since multiple messages are bundled into a single transaction,
        # max_tx_bytes needs to be increased alongside max_txs_bytes as well.
        max_tx_bytes: "100000000"
    client:
      chain-id: pocket # TODO_IN_THIS_PR: is this correct?
  - name: groveval2
    bonded: 1000000000upokt

# We can persist arbitrary genesis values via 1 to 1 mapping to genesis.json
genesis:
  app_state:
    # https://docs.cosmos.network/main/build/modules/mint
    mint:
      params:
        mint_denom: upokt
        # Note that in Pocket Network, the majority of the inflation/deflation
        # comes from the utility of network, not just the validators that
        # secure it. Therefore, the inflation params of x/mint are set to 0.
        # See x/tokenomics for all details related to token inflation.
        inflation_rate_change: "0.0"
        inflation_max: "0.0"
        inflation_min: "0.0"
        # These parameters are included for posterity but commented out for clarity
        # goal_bonded: "NA"
        # blocks_per_year: "NA"
        # max_supply: "NA"
    staking:
      params:
        bond_denom: upokt
        max_validators: 10
    crisis: # TODO_IN_THIS_PR: look into this, I think x/crisis is deprecated
      constant_fee:
        amount: "10000"
        denom: upokt
    gov: # TODO_IN_THIS_PR: since we have an off-chain DAO, turn off x/gov OR make deposits too expensive to submit proposals on chain
      params:
        # TODO_IN_THIS_PR: add an authz authorization to change
        min_deposit:
          - amount: "10000"
            denom: upokt
    bank:
      supply:
        []
        # - amount: "1000000000" # TODO_IN_THIS_PR: should be empty if we don't pre-stake any actors?
        #   denom: upokt
      balances:
        []
        # # As we don't pre-stake any actors, we shouldn't need to add balances here.
        # # # Application module
        # - address: pokt1rl3gjgzexmplmds3tq3r3yk84zlwdl6djzgsvm
        #   coins:
        #     # TODO_MAINNET(@olshansk): Pass config.yml into ChatGPT to build a script
        #     # that ensures the amounts line up
        #     - amount: "0" # MUST BE equal to the total of all app stakes below
        #       denom: upokt
        # # Supplier module
        # - address: pokt1j40dzzmn6cn9kxku7a5tjnud6hv37vesr5ccaa
        #   coins:
        #     - amount: "0" # MUST BE equal to the total of all supplier stakes below
        #       denom: upokt
        # # Gateway module
        # - address: pokt1f6j7u6875p2cvyrgjr0d2uecyzah0kget9vlpl
        #   coins:
        #     - amount: "0" # MUST BE equal to the total of all gateway stakes below
        #       denom: upokt
        # # Service module
        # - address: pokt1nhmtqf4gcmpxu0p6e53hpgtwj0llmsqpxtumcf
        #   coins:
        #     - amount: "1000000000" # MUST BE equal to one add_service_fee below - TODO_IN_THIS_PR: is this correct if we don't have any service?
        #       denom: upokt
    application:
      # TODO_IN_THIS_PR: verify parameters.
      params:
        max_delegated_gateways: "7"
        min_stake:
          amount: "100000000" # 100 POKT
          denom: upokt
      applicationList: []
    supplier:
      # TODO_IN_THIS_PR: verify parameters.
      params:
        # TODO_BETA(@bryanchriswhite): Determine realistic amount for minimum gateway stake amount.
        min_stake:
          amount: "1000000" # 1 POKT
          denom: upokt
        # TODO_BETA(@bryanchriswhite): Determine realistic amount for supplier staking fee.
        staking_fee:
          amount: "1" # 1 uPOKT
          denom: upokt
      supplierList: []
    gateway:
      # TODO_IN_THIS_PR: verify parameters.
      params:
        # TODO_BETA(@bryanchriswhite): Determine realistic amount for minimum gateway stake amount.
        min_stake:
          amount: "1000000" # 1 POKT
          denom: upokt
      gatewayList: []
    service:
      # TODO_IN_THIS_PR: verify parameters.
      params:
        add_service_fee:
          amount: "1000000000"
          denom: upokt
        target_num_relays: 100000
      serviceList: []
    proof:
      # TODO_IN_THIS_PR: verify parameters.
      params:
        proof_request_probability: "0.25"
        proof_requirement_threshold:
          amount: "20000000"
          denom: upokt
        proof_missing_penalty:
          amount: "320000000"
          denom: upokt
        proof_submission_fee:
          amount: "1000000"
          denom: upokt
    session:
      # TODO_IN_THIS_PR: verify parameters.
      params:
        num_suppliers_per_session: 15
    tokenomics:
      # TODO_IN_THIS_PR: verify parameters.
      params:
        mint_allocation_percentages:
          dao: 0.1
          proposer: 0.05
          supplier: 0.7
          source_owner: 0.15
          application: 0.0
        # The dao reward address SHOULD match that of the "pnf" below (i.e. `make poktrolld_addr ACC_NAME=pnf`).
        # This is the address that will receive the dao/foundation rewards during claim settlement (global mint TLM).
        # TODO_MAINNET(@olshansk): Consolidate the usage of DAO/PNF throughout the configs & codebase.
        # TODO_IN_THIS_PR: change address to PNF address.
        dao_reward_address: "pokt1eeeksh2tvkh7wzmfrljnhw4wrhs55lcuvmekkw"
        global_inflation_per_claim: 0.1
    shared:
      # TODO_IN_THIS_PR: verify parameters.
      params:
        num_blocks_per_session: 10
        grace_period_end_offset_blocks: 1
        claim_window_open_offset_blocks: 1
        claim_window_close_offset_blocks: 4
        proof_window_open_offset_blocks: 0
        proof_window_close_offset_blocks: 4
        supplier_unbonding_period_sessions: 1
        application_unbonding_period_sessions: 1
        gateway_unbonding_period_sessions: 1
        compute_units_to_tokens_multiplier: 42
