---
id: github-compokt-networkpoktroll-query-get-session
title: "Queries the session given app_address, service and block_height."
description: "Queries the session given app_address, service and block_height."
sidebar_label: "Queries the session given app_address, service and block_height."
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "get api-method"
info_path: 5_api/http-api-console
custom_edit_url: null
proxy: https://corsproxy.io/
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Queries the session given app_address, service and block_height."}
>
</Heading>

<MethodEndpoint
  method={"get"}
  path={"/pokt-network/poktroll/session/get_session"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Queries the session given app_address, service and block_height.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"description":"The Bech32 address of the application.","name":"application_address","in":"query","schema":{"type":"string"}},{"description":"The service ID to query the session for","name":"service_id","in":"query","schema":{"type":"string"}},{"description":"The block height to query the session for","name":"block_height","in":"query","schema":{"type":"string","format":"int64"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"A successful response.","content":{"application/json":{"schema":{"type":"object","properties":{"session":{"description":"Session is a fully hydrated session object that contains all the information for the Session\nand its parcipants.","type":"object","properties":{"application":{"type":"object","title":"Application represents the onchain definition and state of an application","properties":{"address":{"type":"string","title":"Bech32 address of the application"},"delegatee_gateway_addresses":{"description":"TODO_MAINNET_MIGRATION(@bryanchriswhite): Rename `delegatee_gateway_addresses` to `gateway_addresses_delegated_to` for better clarity and consistency.\n- Update all related configs, comments, variables, and function names throughout the codebase to reflect this change.\n- This field is a non-nullable list of Bech32-encoded delegatee Gateway addresses.","type":"array","items":{"type":"string"}},"pending_transfer":{"title":"Information about pending application transfers","description":"PendingTransfer is used to store the details of a pending transfer.\nIt is only intended to be used inside of an Application object.","type":"object","properties":{"destination_address":{"type":"string"},"session_end_height":{"type":"string","format":"uint64"}}},"pending_undelegations":{"description":"Mapping of session end heights to gateways being undelegated from\n- Key: Height of the last block of the session when the undelegation transaction was committed\n- Value: List of gateways being undelegated from at that session end height\nTODO_DOCUMENT(@red-0ne): Document the complete flow and rationale behind this mapping.\n- Ensure the documentation explains why tracking pending undelegations by session end height is necessary.\n- See: https://github.com/pokt-network/poktroll/issues/476#issuecomment-2052639906 for context and examples.","type":"object","additionalProperties":{"description":"UndelegatingGatewayList is used as the Value of `pending_undelegations`.\nIt is required to store a repeated list of strings as a map value.","type":"object","properties":{"gateway_addresses":{"type":"array","items":{"type":"string"}}}}},"service_configs":{"type":"array","title":"CRITICAL: Must contain EXACTLY ONE service config\n- Enforces a single service configuration per application to prevent over-servicing.\n- Field is repeated for legacy reasons and potential future compatibility.\n- References for rationale:\n  - https://github.com/pokt-network/poktroll/pull/750#discussion_r1735025033\n  - https://www.notion.so/buildwithgrove/Off-chain-Application-Stake-Tracking-6a8bebb107db4f7f9dc62cbe7ba555f7","items":{"type":"object","title":"ApplicationServiceConfig holds the service configuration the application stakes for","properties":{"service_id":{"type":"string","title":"The Service ID for which the application is configured"}}}},"stake":{"description":"Coin defines a token with a denomination and an amount.\n\nNOTE: The amount field is an Int which implements the custom method\nsignatures required by gogoproto.","type":"object","properties":{"amount":{"type":"string"},"denom":{"type":"string"}},"title":"Total amount of staked uPOKT"},"unstake_session_end_height":{"type":"string","format":"uint64","title":"Session end height when application initiated unstaking (0 if not unstaking)"}}},"header":{"description":"SessionHeader is a lightweight header for a session that can be passed around.\nIt is the minimal amount of data required to hydrate & retrieve all data relevant to the session.","type":"object","properties":{"application_address":{"description":"The Bech32 address of the application.","type":"string"},"service_id":{"type":"string","title":"The service id this session is for"},"session_end_block_height":{"description":"Note that`session_end_block_height` is a derivative of (`start` + `num_blocks_per_session`)\nas goverened by onchain params at the time of the session start.\nIt is stored as an additional field to simplofy business logic in case\nthe number of blocks_per_session changes during the session.\n\nThe height at which this session ended, this is the last block of the session","type":"string","format":"int64"},"session_id":{"description":"A unique pseudoranom ID for this session","type":"string","title":"NOTE: session_id can be derived from the above values using onchain but is included in the header for convenience"},"session_start_block_height":{"type":"string","format":"int64","title":"The height at which this session started"}},"title":"The header of the session containing lightweight data"},"num_blocks_per_session":{"type":"string","format":"int64","title":"The number of blocks per session when this session started"},"session_id":{"type":"string","title":"A unique pseudoranom ID for this session"},"session_number":{"type":"string","format":"int64","title":"The session number since genesis"},"suppliers":{"type":"array","title":"A fully hydrated set of servicers that are serving the application","items":{"type":"object","title":"Supplier represents an actor in Pocket Network that provides RPC services","properties":{"operator_address":{"description":"Operator address managing the offchain server\nImmutable for supplier's lifespan - requires unstake/re-stake to change.\nCan update supplier configs except for owner address.","type":"string"},"owner_address":{"type":"string","title":"Owner address that controls the staked funds and receives rewards by default\nCannot be updated by the operator"},"service_config_history":{"description":"List of historical service configuration updates, tracking the suppliers\nservices update and corresponding activation heights.","type":"array","items":{"type":"object","description":"ServiceConfigUpdate tracks a change in a supplier's service configurations\nat a specific block height, enabling tracking of configuration changes over time.\nThis record helps maintain a complete history of service configs and their availability periods.","properties":{"activation_height":{"type":"string","format":"int64","title":"Block height at which this service configuration became active in the network"},"deactivation_height":{"type":"string","format":"int64","title":"Block height at which this service configuration was deactivated (0 if still active)\nFor service configs scheduled for deactivation:\n- This field stores the block height when deactivation will occur\n- After deactivation, the config remains in history only as needed for claim settlement\n- Once no longer required for settlement, the config is automatically removed by\n  the EndBlockerPruneSupplierServiceConfigHistory process"},"operator_address":{"type":"string","title":"Operator address of the supplier corresponding to the service configuration change"},"service":{"title":"The specific service configuration that was added, modified or scheduled for removal","type":"object","properties":{"endpoints":{"type":"array","title":"List of endpoints for the service","items":{"type":"object","title":"SupplierEndpoint message to hold service configuration details","properties":{"configs":{"type":"array","title":"Additional configuration options for the endpoint","items":{"type":"object","title":"Key-value wrapper for config options, as proto maps can't be keyed by enums","properties":{"key":{"title":"Config option key","description":"Enum to define configuration options\nTODO_RESEARCH: Should these be configs, SLAs or something else? There will be more discussion once we get closer to implementing onchain QoS.\n\n - UNKNOWN_CONFIG: Undefined config option\n - TIMEOUT: Timeout setting","type":"string","default":"UNKNOWN_CONFIG","enum":["UNKNOWN_CONFIG","TIMEOUT"]},"value":{"type":"string","title":"Config option value"}}}},"rpc_type":{"title":"Type of RPC exposed on the url above","description":"- UNKNOWN_RPC: Undefined RPC type\n - GRPC: gRPC\n - WEBSOCKET: WebSocket\n - JSON_RPC: JSON-RPC\n - REST: REST","type":"string","default":"UNKNOWN_RPC","enum":["UNKNOWN_RPC","GRPC","WEBSOCKET","JSON_RPC","REST"]},"url":{"type":"string","title":"URL of the endpoint"}}}},"rev_share":{"type":"array","title":"List of revenue share configurations for the service","items":{"type":"object","title":"ServiceRevenueShare message to hold revenue share configuration details","properties":{"address":{"type":"string","title":"The Bech32 address of the revenue share recipient"},"rev_share_percentage":{"type":"string","format":"uint64","title":"The percentage of revenue share the recipient will receive"}}}},"service_id":{"type":"string","title":"The Service ID for which the supplier is configured"}}}}}},"services":{"type":"array","title":"List of service configurations supported by this supplier","items":{"type":"object","title":"SupplierServiceConfig holds the service configuration the supplier stakes for","properties":{"endpoints":{"type":"array","title":"List of endpoints for the service","items":{"type":"object","title":"SupplierEndpoint message to hold service configuration details","properties":{"configs":{"type":"array","title":"Additional configuration options for the endpoint","items":{"type":"object","title":"Key-value wrapper for config options, as proto maps can't be keyed by enums","properties":{"key":{"title":"Config option key","description":"Enum to define configuration options\nTODO_RESEARCH: Should these be configs, SLAs or something else? There will be more discussion once we get closer to implementing onchain QoS.\n\n - UNKNOWN_CONFIG: Undefined config option\n - TIMEOUT: Timeout setting","type":"string","default":"UNKNOWN_CONFIG","enum":["UNKNOWN_CONFIG","TIMEOUT"]},"value":{"type":"string","title":"Config option value"}}}},"rpc_type":{"title":"Type of RPC exposed on the url above","description":"- UNKNOWN_RPC: Undefined RPC type\n - GRPC: gRPC\n - WEBSOCKET: WebSocket\n - JSON_RPC: JSON-RPC\n - REST: REST","type":"string","default":"UNKNOWN_RPC","enum":["UNKNOWN_RPC","GRPC","WEBSOCKET","JSON_RPC","REST"]},"url":{"type":"string","title":"URL of the endpoint"}}}},"rev_share":{"type":"array","title":"List of revenue share configurations for the service","items":{"type":"object","title":"ServiceRevenueShare message to hold revenue share configuration details","properties":{"address":{"type":"string","title":"The Bech32 address of the revenue share recipient"},"rev_share_percentage":{"type":"string","format":"uint64","title":"The percentage of revenue share the recipient will receive"}}}},"service_id":{"type":"string","title":"The Service ID for which the supplier is configured"}}}},"stake":{"description":"Coin defines a token with a denomination and an amount.\n\nNOTE: The amount field is an Int which implements the custom method\nsignatures required by gogoproto.","type":"object","properties":{"amount":{"type":"string"},"denom":{"type":"string"}},"title":"Total amount of staked uPOKT"},"unstake_session_end_height":{"type":"string","format":"uint64","title":"Session end height when supplier initiated unstaking (0 if not unstaking)"}}}}}}}}}}},"default":{"description":"An unexpected error response.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"details":{"type":"array","items":{"type":"object","properties":{"@type":{"type":"string"}},"additionalProperties":{}}},"message":{"type":"string"}}}}}}}}
>
  
</StatusCodes>


      