---
id: github-compokt-networkpoktroll-query-get-session
title: "Queries the session given app_address, service and block_height."
description: "Queries the session given app_address, service and block_height."
sidebar_label: "Queries the session given app_address, service and block_height."
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "get api-method"
info_path: 5_api/http-api-console
custom_edit_url: null
proxy: https://corsproxy.io/
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Queries the session given app_address, service and block_height."}
>
</Heading>

<MethodEndpoint
  method={"get"}
  path={"/pokt-network/poktroll/session/get_session"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Queries the session given app_address, service and block_height.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"description":"The Bech32 address of the application.","name":"application_address","in":"query","schema":{"type":"string"}},{"description":"The service ID to query the session for","name":"service_id","in":"query","schema":{"type":"string"}},{"description":"The block height to query the session for","name":"block_height","in":"query","schema":{"type":"string","format":"int64"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"A successful response.","content":{"application/json":{"schema":{"type":"object","properties":{"session":{"description":"Session is a fully hydrated session object that contains all the information for the Session\nand its participants.","type":"object","properties":{"application":{"type":"object","title":"Application represents the onchain definition and state of an application","properties":{"address":{"type":"string","title":"Bech32 address of the application"},"delegatee_gateway_addresses":{"description":"TODO_MAINNET_MIGRATION(@bryanchriswhite): Rename `delegatee_gateway_addresses` to `gateway_addresses_delegated_to` for better clarity and consistency.\n- Update all related configs, comments, variables, and function names throughout the codebase to reflect this change.\n- This field is a non-nullable list of Bech32-encoded delegatee Gateway addresses.","type":"array","items":{"type":"string"}},"pending_transfer":{"title":"Information about pending application transfers","description":"PendingTransfer is used to store the details of a pending transfer.\nIt is only intended to be used inside of an Application object.","type":"object","properties":{"destination_address":{"type":"string"},"session_end_height":{"type":"string","format":"uint64"}}},"pending_undelegations":{"description":"Mapping of session end heights to gateways being undelegated from\n- Key: Height of the last block of the session when the undelegation transaction was committed\n- Value: List of gateways being undelegated from at that session end height\nTODO_DOCUMENT(@red-0ne): Document the complete flow and rationale behind this mapping.\n- Ensure the documentation explains why tracking pending undelegations by session end height is necessary.\n- See: https://github.com/pokt-network/poktroll/issues/476#issuecomment-2052639906 for context and examples.","type":"object","additionalProperties":{"description":"UndelegatingGatewayList is used as the Value of `pending_undelegations`.\nIt is required to store a repeated list of strings as a map value.","type":"object","properties":{"gateway_addresses":{"type":"array","items":{"type":"string"}}}}},"service_configs":{"type":"array","title":"CRITICAL: Must contain EXACTLY ONE service config\n- Enforces a single service configuration per application to prevent over-servicing.\n- Field is repeated for legacy reasons and potential future compatibility.\n- References for rationale:\n  - https://github.com/pokt-network/poktroll/pull/750#discussion_r1735025033\n  - https://www.notion.so/buildwithgrove/Off-chain-Application-Stake-Tracking-6a8bebb107db4f7f9dc62cbe7ba555f7","items":{"type":"object","title":"ApplicationServiceConfig holds the service configuration the application stakes for","properties":{"service_id":{"type":"string","title":"The Service ID for which the application is configured"}}}},"stake":{"title":"Total amount of staked uPOKT","description":"Coin defines a token with a denomination and an amount.\n\nNOTE: The amount field is an Int which implements the custom method\nsignatures required by gogoproto.","type":"object","properties":{"amount":{"type":"string"},"denom":{"type":"string"}}},"unstake_session_end_height":{"type":"string","format":"uint64","title":"Session end height when application initiated unstaking (0 if not unstaking)"}}},"header":{"description":"SessionHeader is a lightweight header for a session that can be passed around.\nIt is the minimal amount of data required to hydrate & retrieve all data relevant to the session.","type":"object","properties":{"application_address":{"description":"The Bech32 address of the application.","type":"string"},"service_id":{"type":"string","title":"The service id this session is for"},"session_end_block_height":{"description":"Note that`session_end_block_height` is a derivative of (`start` + `num_blocks_per_session`)\nas governed by onchain params at the time of the session start.\nIt is stored as an additional field to simplify business logic in case\nthe number of blocks_per_session changes during the session.\n\nThe height at which this session ended, this is the last block of the session","type":"string","format":"int64"},"session_id":{"description":"A unique pseudorandom ID for this session","type":"string","title":"NOTE: session_id can be derived from the above values using onchain but is included in the header for convenience"},"session_start_block_height":{"type":"string","format":"int64","title":"The height at which this session started"}},"title":"The header of the session containing lightweight data"},"num_blocks_per_session":{"type":"string","format":"int64","title":"The number of blocks per session when this session started"},"session_id":{"type":"string","title":"A unique pseudorandom ID for this session"},"session_number":{"type":"string","format":"int64","title":"The session number since genesis"},"suppliers":{"type":"array","title":"A fully hydrated set of servicers that are serving the application","items":{"type":"object","title":"Supplier represents an actor in Pocket Network that provides RPC services","properties":{"operator_address":{"description":"Operator address managing the offchain server\nImmutable for supplier's lifespan - requires unstake/re-stake to change.\nCan update supplier configs except for owner address.","type":"string"},"owner_address":{"type":"string","title":"Owner address that controls the staked funds and receives rewards by default\nCannot be updated by the operator"},"service_config_history":{"description":"List of historical service configuration updates, tracking the suppliers\nservices update and corresponding activation heights.","type":"array","items":{"type":"object","description":"ServiceConfigUpdate tracks a change in a supplier's service configurations\nat a specific block height, enabling tracking of configuration changes over time.\nThis record helps maintain a complete history of service configs and their availability periods.","properties":{"activation_height":{"type":"string","format":"int64","title":"Block height at which this service configuration became active in the network"},"deactivation_height":{"type":"string","format":"int64","title":"Block height at which this service configuration was deactivated (0 if still active)\nFor service configs scheduled for deactivation:\n- This field stores the block height when deactivation will occur\n- After deactivation, the config remains in history only as needed for claim settlement\n- Once no longer required for settlement, the config is automatically removed by\n  the EndBlockerPruneSupplierServiceConfigHistory process"},"operator_address":{"type":"string","title":"Operator address of the supplier corresponding to the service configuration change"},"service":{"title":"The specific service configuration that was added, modified or scheduled for removal","type":"object","properties":{"endpoints":{"type":"array","title":"List of endpoints for the service","items":{"type":"object","title":"SupplierEndpoint message to hold service configuration details","properties":{"configs":{"type":"array","title":"Additional configuration options for the endpoint","items":{"type":"object","title":"Key-value wrapper for config options, as proto maps can't be keyed by enums","properties":{"key":{"title":"Config option key","description":"Enum to define configuration options\nTODO_RESEARCH: Should these be configs, SLAs or something else? There will be more discussion once we get closer to implementing onchain QoS.\n\n - UNKNOWN_CONFIG: Undefined config option\n - TIMEOUT: Timeout setting","type":"string","default":"UNKNOWN_CONFIG","enum":["UNKNOWN_CONFIG","TIMEOUT"]},"value":{"type":"string","title":"Config option value"}}}},"rpc_type":{"title":"Type of RPC exposed on the url above","description":"- UNKNOWN_RPC: Undefined RPC type\n - GRPC: gRPC\n - WEBSOCKET: WebSocket\n - JSON_RPC: JSON-RPC\n - REST: REST","type":"string","default":"UNKNOWN_RPC","enum":["UNKNOWN_RPC","GRPC","WEBSOCKET","JSON_RPC","REST"]},"url":{"type":"string","title":"URL of the endpoint"}}}},"rev_share":{"type":"array","title":"List of revenue share configurations for the service","items":{"type":"object","title":"ServiceRevenueShare message to hold revenue share configuration details","properties":{"address":{"type":"string","title":"The Bech32 address of the revenue share recipient"},"rev_share_percentage":{"type":"string","format":"uint64","title":"The percentage of revenue share the recipient will receive"}}}},"service_id":{"type":"string","title":"The Service ID for which the supplier is configured"}}}}}},"services":{"type":"array","title":"List of service configurations supported by this supplier","items":{"type":"object","title":"SupplierServiceConfig holds the service configuration the supplier stakes for","properties":{"endpoints":{"type":"array","title":"List of endpoints for the service","items":{"type":"object","title":"SupplierEndpoint message to hold service configuration details","properties":{"configs":{"type":"array","title":"Additional configuration options for the endpoint","items":{"type":"object","title":"Key-value wrapper for config options, as proto maps can't be keyed by enums","properties":{"key":{"title":"Config option key","description":"Enum to define configuration options\nTODO_RESEARCH: Should these be configs, SLAs or something else? There will be more discussion once we get closer to implementing onchain QoS.\n\n - UNKNOWN_CONFIG: Undefined config option\n - TIMEOUT: Timeout setting","type":"string","default":"UNKNOWN_CONFIG","enum":["UNKNOWN_CONFIG","TIMEOUT"]},"value":{"type":"string","title":"Config option value"}}}},"rpc_type":{"title":"Type of RPC exposed on the url above","description":"- UNKNOWN_RPC: Undefined RPC type\n - GRPC: gRPC\n - WEBSOCKET: WebSocket\n - JSON_RPC: JSON-RPC\n - REST: REST","type":"string","default":"UNKNOWN_RPC","enum":["UNKNOWN_RPC","GRPC","WEBSOCKET","JSON_RPC","REST"]},"url":{"type":"string","title":"URL of the endpoint"}}}},"rev_share":{"type":"array","title":"List of revenue share configurations for the service","items":{"type":"object","title":"ServiceRevenueShare message to hold revenue share configuration details","properties":{"address":{"type":"string","title":"The Bech32 address of the revenue share recipient"},"rev_share_percentage":{"type":"string","format":"uint64","title":"The percentage of revenue share the recipient will receive"}}}},"service_id":{"type":"string","title":"The Service ID for which the supplier is configured"}}}},"stake":{"description":"Coin defines a token with a denomination and an amount.\n\nNOTE: The amount field is an Int which implements the custom method\nsignatures required by gogoproto.","type":"object","properties":{"amount":{"type":"string"},"denom":{"type":"string"}},"title":"Total amount of staked uPOKT"},"unstake_session_end_height":{"type":"string","format":"uint64","title":"Session end height when supplier initiated unstaking (0 if not unstaking)"}}}}}}}}}}},"default":{"description":"An unexpected error response.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"details":{"type":"array","items":{"type":"object","properties":{"@type":{"type":"string"}},"additionalProperties":{}}},"message":{"type":"string"}}}}}}}}
>
  
</StatusCodes>


      