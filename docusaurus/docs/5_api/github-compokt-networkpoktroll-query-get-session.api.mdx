---
id: github-compokt-networkpoktroll-query-get-session
title: "Queries the session given app_address, service and block_height."
description: "Queries the session given app_address, service and block_height."
sidebar_label: "Queries the session given app_address, service and block_height."
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "get api-method"
info_path: 5_api/http-api-console
custom_edit_url: null
proxy: https://corsproxy.io/
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Queries the session given app_address, service and block_height."}
>
</Heading>

<MethodEndpoint
  method={"get"}
  path={"/pokt-network/poktroll/session/get_session"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Queries the session given app_address, service and block_height.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"description":"The Bech32 address of the application.","name":"application_address","in":"query","schema":{"type":"string"}},{"description":"The service ID to query the session for","name":"service_id","in":"query","schema":{"type":"string"}},{"description":"The block height to query the session for","name":"block_height","in":"query","schema":{"type":"string","format":"int64"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"A successful response.","content":{"application/json":{"schema":{"type":"object","properties":{"session":{"description":"Session is a fully hydrated session object that contains all the information for the Session\nand its parcipants.","type":"object","properties":{"application":{"type":"object","title":"Application represents the onchain definition and state of an application","properties":{"address":{"type":"string","title":"Bech32 address of the application"},"delegatee_gateway_addresses":{"description":"TODO_MAINNET_MIGRATION(@bryanchriswhite): Rename `delegatee_gateway_addresses` to `gateway_addresses_delegated_to` for better clarity and consistency.\n- Update all related configs, comments, variables, and function names throughout the codebase to reflect this change.\n- This field is a non-nullable list of Bech32-encoded delegatee Gateway addresses.","type":"array","items":{"type":"string"}},"pending_transfer":{"title":"Information about pending application transfers","description":"PendingTransfer is used to store the details of a pending transfer.\nIt is only intended to be used inside of an Application object.","type":"object","properties":{"destination_address":{"type":"string"},"session_end_height":{"type":"string","format":"uint64"}}},"pending_undelegations":{"description":"Mapping of session end heights to gateways being undelegated from\n- Key: Height of the last block of the session when the undelegation transaction was committed\n- Value: List of gateways being undelegated from at that session end height\nTODO_DOCUMENT(@red-0ne): Document the complete flow and rationale behind this mapping.\n- Ensure the documentation explains why tracking pending undelegations by session end height is necessary.\n- See: https://github.com/pokt-network/poktroll/issues/476#issuecomment-2052639906 for context and examples.","type":"object","additionalProperties":{"description":"UndelegatingGatewayList is used as the Value of `pending_undelegations`.\nIt is required to store a repeated list of strings as a map value.","type":"object","properties":{"gateway_addresses":{"type":"array","items":{"type":"string"}}}}},"service_configs":{"type":"array","title":"CRITICAL: Must contain EXACTLY ONE service config\n- Enforces a single service configuration per application to prevent over-servicing.\n- Field is repeated for legacy reasons and potential future compatibility.\n- References for rationale:\n  - https://github.com/pokt-network/poktroll/pull/750#discussion_r1735025033\n  - https://www.notion.so/buildwithgrove/Off-chain-Application-Stake-Tracking-6a8bebb107db4f7f9dc62cbe7ba555f7","items":{"type":"object","title":"ApplicationServiceConfig holds the service configuration the application stakes for","properties":{"service_id":{"type":"string","title":"The Service ID for which the application is configured"}}}},"stake":{"description":"Coin defines a token with a denomination and an amount.\n\nNOTE: The amount field is an Int which implements the custom method\nsignatures required by gogoproto.","type":"object","properties":{"amount":{"type":"string"},"denom":{"type":"string"}},"title":"Total amount of staked uPOKT"},"unstake_session_end_height":{"type":"string","format":"uint64","title":"Session end height when application initiated unstaking (0 if not unstaking)"}}},"header":{"description":"SessionHeader is a lightweight header for a session that can be passed around.\nIt is the minimal amount of data required to hydrate & retrieve all data relevant to the session.","type":"object","properties":{"application_address":{"description":"The Bech32 address of the application.","type":"string"},"service_id":{"type":"string","title":"The service id this session is for"},"session_end_block_height":{"description":"Note that`session_end_block_height` is a derivative of (`start` + `num_blocks_per_session`)\nas goverened by onchain params at the time of the session start.\nIt is stored as an additional field to simplofy business logic in case\nthe number of blocks_per_session changes during the session.\n\nThe height at which this session ended, this is the last block of the session","type":"string","format":"int64"},"session_id":{"description":"A unique pseudoranom ID for this session","type":"string","title":"NOTE: session_id can be derived from the above values using onchain but is included in the header for convenience"},"session_start_block_height":{"type":"string","format":"int64","title":"The height at which this session started"}},"title":"The header of the session containing lightweight data"},"num_blocks_per_session":{"type":"string","format":"int64","title":"The number of blocks per session when this session started"},"session_id":{"type":"string","title":"A unique pseudoranom ID for this session"},"session_number":{"type":"string","format":"int64","title":"The session number since genesis"},"suppliers":{"type":"array","title":"A fully hydrated set of servicers that are serving the application","items":{"type":"object","title":"Supplier represents an actor in Pocket Network that provides RPC services","properties":{"operator_address":{"description":"Operator address managing the offchain server\nImmutable for supplier's lifespan - requires unstake/re-stake to change.\nCan update supplier configs except for owner address.","type":"string"},"owner_address":{"type":"string","title":"Owner address that controls the staked funds and receives rewards by default\nCannot be updated by the operator"},"service_config_history":{"description":"List of historical service configuration updates, tracking the suppliers\nservices update and corresponding activation heights.","type":"array","items":{"type":"object","description":"ServiceConfigUpdate tracks a change in a supplier's service configurations\nat a specific block height, enabling tracking of configuration changes over time.\nThis record helps maintain a complete history of service configs and their availability periods.","properties":{"activation_height":{"type":"string","format":"int64","title":"Block height at which this service configuration became active in the network"},"deactivation_height":{"type":"string","format":"int64","title":"Block height at which this service configuration was deactivated (0 if still active)\nFor service configs scheduled for deactivation:\n- This field stores the block height when deactivation will occur\n- After deactivation, the config remains in history only as needed for claim settlement\n- Once no longer required for settlement, the config is automatically removed by\n  the EndBlockerPruneSupplierServiceConfigHistory process"},"operator_address":{"type":"string","title":"Operator address of the supplier corresponding to the service configuration change"},"service":{"title":"The specific service configuration that was added, modified or scheduled for removal","type":"object","properties":{"endpoints":{"type":"array","title":"List of endpoints for the service","items":{"type":"object","title":"SupplierEndpoint message to hold service configuration details","properties":{"configs":{"type":"array","title":"Additional configuration options for the endpoint","items":{"type":"object","title":"Key-value wrapper for config options, as proto maps can't be keyed by enums","properties":{"key":{"title":"Config option key","description":"Enum to define configuration options\nTODO_RESEARCH: Should these be configs, SLAs or something else? There will be more discussion once we get closer to implementing onchain QoS.\n\n - UNKNOWN_CONFIG: Undefined config option\n - TIMEOUT: Timeout setting","type":"string","default":"UNKNOWN_CONFIG","enum":["UNKNOWN_CONFIG","TIMEOUT"]},"value":{"type":"string","title":"Config option value"}}}},"rpc_type":{"title":"Type of RPC exposed on the url above","description":"- UNKNOWN_RPC: Undefined RPC type\n - GRPC: gRPC\n - WEBSOCKET: WebSocket\n - JSON_RPC: JSON-RPC\n - REST: REST","type":"string","default":"UNKNOWN_RPC","enum":["UNKNOWN_RPC","GRPC","WEBSOCKET","JSON_RPC","REST"]},"url":{"type":"string","title":"URL of the endpoint"}}}},"rev_share":{"type":"array","title":"List of revenue share configurations for the service","items":{"type":"object","title":"ServiceRevenueShare message to hold revenue share configuration details","properties":{"address":{"type":"string","title":"The Bech32 address of the revenue share recipient"},"rev_share_percentage":{"type":"string","format":"uint64","title":"The percentage of revenue share the recipient will receive"}}}},"service_id":{"type":"string","title":"The Service ID for which the supplier is configured"}}}}}},"services":{"type":"array","title":"List of service configurations supported by this supplier","items":{"type":"object","title":"SupplierServiceConfig holds the service configuration the supplier stakes for","properties":{"endpoints":{"type":"array","title":"List of endpoints for the service","items":{"type":"object","title":"SupplierEndpoint message to hold service configuration details","properties":{"configs":{"type":"array","title":"Additional configuration options for the endpoint","items":{"type":"object","title":"Key-value wrapper for config options, as proto maps can't be keyed by enums","properties":{"key":{"title":"Config option key","description":"Enum to define configuration options\nTODO_RESEARCH: Should these be configs, SLAs or something else? There will be more discussion once we get closer to implementing onchain QoS.\n\n - UNKNOWN_CONFIG: Undefined config option\n - TIMEOUT: Timeout setting","type":"string","default":"UNKNOWN_CONFIG","enum":["UNKNOWN_CONFIG","TIMEOUT"]},"value":{"type":"string","title":"Config option value"}}}},"rpc_type":{"title":"Type of RPC exposed on the url above","description":"- UNKNOWN_RPC: Undefined RPC type\n - GRPC: gRPC\n - WEBSOCKET: WebSocket\n - JSON_RPC: JSON-RPC\n - REST: REST","type":"string","default":"UNKNOWN_RPC","enum":["UNKNOWN_RPC","GRPC","WEBSOCKET","JSON_RPC","REST"]},"url":{"type":"string","title":"URL of the endpoint"}}}},"rev_share":{"type":"array","title":"List of revenue share configurations for the service","items":{"type":"object","title":"ServiceRevenueShare message to hold revenue share configuration details","properties":{"address":{"type":"string","title":"The Bech32 address of the revenue share recipient"},"rev_share_percentage":{"type":"string","format":"uint64","title":"The percentage of revenue share the recipient will receive"}}}},"service_id":{"type":"string","title":"The Service ID for which the supplier is configured"}}}},"stake":{"description":"Coin defines a token with a denomination and an amount.\n\nNOTE: The amount field is an Int which implements the custom method\nsignatures required by gogoproto.","type":"object","properties":{"amount":{"type":"string"},"denom":{"type":"string"}},"title":"Total amount of staked uPOKT"},"unstake_session_end_height":{"type":"string","format":"uint64","title":"Session end height when supplier initiated unstaking (0 if not unstaking)"}}}}}}}}}}},"default":{"description":"An unexpected error response.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"details":{"type":"array","items":{"type":"object","properties":{"@type":{"type":"string"}},"additionalProperties":{}}},"message":{"type":"string"}}}}}}}}
>
  
</StatusCodes>


      