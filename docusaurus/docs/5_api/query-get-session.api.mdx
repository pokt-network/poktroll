---
id: query-get-session
title: "Queries the session given app_address, service and block_height."
description: "Queries the session given app_address, service and block_height."
sidebar_label: "Queries the session given app_address, service and block_height."
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "get api-method"
info_path: 5_api/http-api-console
custom_edit_url: null
proxy: https://corsproxy.io/
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Queries the session given app_address, service and block_height."}
>
</Heading>

<MethodEndpoint
  method={"get"}
  path={"/pokt-network/poktroll/session/get_session"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Queries the session given app_address, service and block_height.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"description":"The Bech32 address of the application.","name":"application_address","in":"query","schema":{"type":"string"}},{"description":"The service ID to query the session for","name":"service_id","in":"query","schema":{"type":"string"}},{"description":"The block height to query the session for","name":"block_height","in":"query","schema":{"type":"string","format":"int64"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={undefined}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"A successful response.","content":{"application/json":{"schema":{"type":"object","properties":{"session":{"description":"Session is a fully hydrated session object that contains all the information for the Session\nand its participants.","type":"object","properties":{"application":{"type":"object","title":"Application represents the onchain definition and state of an application","properties":{"address":{"type":"string","title":"Bech32 address of the application"},"delegatee_gateway_addresses":{"description":"TODO_MAINNET_MIGRATION(@bryanchriswhite): Rename `delegatee_gateway_addresses` to `gateway_addresses_delegated_to` for better clarity and consistency.\n- Update all related configs, comments, variables, and function names throughout the codebase to reflect this change.\n- This field is a non-nullable list of Bech32-encoded delegatee Gateway addresses.","type":"array","items":{"type":"string"}},"pending_transfer":{"title":"Information about pending application transfers","description":"PendingTransfer is used to store the details of a pending transfer.\nIt is only intended to be used inside of an Application object.","type":"object","properties":{"destination_address":{"type":"string"},"session_end_height":{"type":"string","format":"uint64"}}},"pending_undelegations":{"description":"Mapping of session end heights to gateways being undelegated from\n- Key: Height of the last block of the session when the undelegation transaction was committed\n- Value: List of gateways being undelegated from at that session end height\nTODO_DOCUMENT(@red-0ne): Document the complete flow and rationale behind this mapping.\n- Ensure the documentation explains why tracking pending undelegations by session end height is necessary.\n- See: https://github.com/pokt-network/poktroll/issues/476#issuecomment-2052639906 for context and examples.","type":"object","additionalProperties":{"description":"UndelegatingGatewayList is used as the Value of `pending_undelegations`.\nIt is required to store a repeated list of strings as a map value.","type":"object","properties":{"gateway_addresses":{"type":"array","items":{"type":"string"}}}}},"service_configs":{"type":"array","title":"CRITICAL: Must contain EXACTLY ONE service config\n- Enforces a single service configuration per application to prevent over-servicing.\n- Field is repeated for legacy reasons and potential future compatibility.\n- References for rationale:\n  - https://github.com/pokt-network/poktroll/pull/750#discussion_r1735025033\n  - https://www.notion.so/buildwithgrove/Off-chain-Application-Stake-Tracking-6a8bebb107db4f7f9dc62cbe7ba555f7","items":{"type":"object","title":"ApplicationServiceConfig holds the service configuration the application stakes for","properties":{"service_id":{"type":"string","title":"The Service ID for which the application is configured"}}}},"stake":{"title":"Total amount of staked uPOKT","description":"Coin defines a token with a denomination and an amount.\n\nNOTE: The amount field is an Int which implements the custom method\nsignatures required by gogoproto.","type":"object","properties":{"amount":{"type":"string"},"denom":{"type":"string"}}},"unstake_session_end_height":{"type":"string","format":"uint64","title":"Session end height when application initiated unstaking (0 if not unstaking)"}}},"header":{"description":"SessionHeader is a lightweight header for a session that can be passed around.\nIt is the minimal amount of data required to hydrate & retrieve all data relevant to the session.","type":"object","properties":{"application_address":{"description":"The Bech32 address of the application.","type":"string"},"service_id":{"type":"string","title":"The service id this session is for"},"session_end_block_height":{"description":"Note that`session_end_block_height` is a derivative of (`start` + `num_blocks_per_session`)\nas governed by onchain params at the time of the session start.\nIt is stored as an additional field to simplify business logic in case\nthe number of blocks_per_session changes during the session.\n\nThe height at which this session ended, this is the last block of the session","type":"string","format":"int64"},"session_id":{"description":"A unique pseudorandom ID for this session","type":"string","title":"NOTE: session_id can be derived from the above values using onchain but is included in the header for convenience"},"session_start_block_height":{"type":"string","format":"int64","title":"The height at which this session started"}},"title":"The header of the session containing lightweight data"},"num_blocks_per_session":{"type":"string","format":"int64","title":"The number of blocks per session when this session started"},"session_id":{"type":"string","title":"A unique pseudorandom ID for this session"},"session_number":{"type":"string","format":"int64","title":"The session number since genesis"},"suppliers":{"type":"array","title":"A fully hydrated set of servicers that are serving the application","items":{"type":"object","title":"Supplier represents an actor in Pocket Network that provides RPC services","properties":{"operator_address":{"description":"Operator address managing the offchain server\nImmutable for supplier's lifespan - requires unstake/re-stake to change.\nCan update supplier configs except for owner address.","type":"string"},"owner_address":{"type":"string","title":"Owner address that controls the staked funds and receives rewards by default\nCannot be updated by the operator"},"service_config_history":{"description":"List of historical service configuration updates, tracking the suppliers\nservices update and corresponding activation heights.","type":"array","items":{"type":"object","description":"ServiceConfigUpdate tracks a change in a supplier's service configurations\nat a specific block height, enabling tracking of configuration changes over time.\nThis record helps maintain a complete history of service configs and their availability periods.","properties":{"activation_height":{"type":"string","format":"int64","title":"Block height at which this service configuration became active in the network"},"deactivation_height":{"type":"string","format":"int64","title":"Block height at which this service configuration was deactivated (0 if still active)\nFor service configs scheduled for deactivation:\n- This field stores the block height when deactivation will occur\n- After deactivation, the config remains in history only as needed for claim settlement\n- Once no longer required for settlement, the config is automatically removed by\n  the EndBlockerPruneSupplierServiceConfigHistory process"},"operator_address":{"type":"string","title":"Operator address of the supplier corresponding to the service configuration change"},"service":{"title":"The specific service configuration that was added, modified or scheduled for removal","type":"object","properties":{"endpoints":{"type":"array","title":"List of endpoints for the service","items":{"type":"object","title":"SupplierEndpoint message to hold service configuration details","properties":{"configs":{"type":"array","title":"Additional configuration options for the endpoint","items":{"type":"object","title":"Key-value wrapper for config options, as proto maps can't be keyed by enums","properties":{"key":{"title":"Config option key","description":"Enum to define configuration options\nTODO_RESEARCH: Should these be configs, SLAs or something else? There will be more discussion once we get closer to implementing onchain QoS.\n\n - UNKNOWN_CONFIG: Undefined config option\n - TIMEOUT: Timeout setting","type":"string","default":"UNKNOWN_CONFIG","enum":["UNKNOWN_CONFIG","TIMEOUT"]},"value":{"type":"string","title":"Config option value"}}}},"rpc_type":{"title":"Type of RPC exposed on the url above","description":"- UNKNOWN_RPC: Undefined RPC type\n - GRPC: gRPC\n - WEBSOCKET: WebSocket\n - JSON_RPC: JSON-RPC\n - REST: REST","type":"string","default":"UNKNOWN_RPC","enum":["UNKNOWN_RPC","GRPC","WEBSOCKET","JSON_RPC","REST"]},"url":{"type":"string","title":"URL of the endpoint"}}}},"rev_share":{"type":"array","title":"List of revenue share configurations for the service","items":{"type":"object","title":"ServiceRevenueShare message to hold revenue share configuration details","properties":{"address":{"type":"string","title":"The Bech32 address of the revenue share recipient"},"rev_share_percentage":{"type":"string","format":"uint64","title":"The percentage of revenue share the recipient will receive"}}}},"service_id":{"type":"string","title":"The Service ID for which the supplier is configured"}}}}}},"services":{"type":"array","title":"List of service configurations supported by this supplier","items":{"type":"object","title":"SupplierServiceConfig holds the service configuration the supplier stakes for","properties":{"endpoints":{"type":"array","title":"List of endpoints for the service","items":{"type":"object","title":"SupplierEndpoint message to hold service configuration details","properties":{"configs":{"type":"array","title":"Additional configuration options for the endpoint","items":{"type":"object","title":"Key-value wrapper for config options, as proto maps can't be keyed by enums","properties":{"key":{"title":"Config option key","description":"Enum to define configuration options\nTODO_RESEARCH: Should these be configs, SLAs or something else? There will be more discussion once we get closer to implementing onchain QoS.\n\n - UNKNOWN_CONFIG: Undefined config option\n - TIMEOUT: Timeout setting","type":"string","default":"UNKNOWN_CONFIG","enum":["UNKNOWN_CONFIG","TIMEOUT"]},"value":{"type":"string","title":"Config option value"}}}},"rpc_type":{"title":"Type of RPC exposed on the url above","description":"- UNKNOWN_RPC: Undefined RPC type\n - GRPC: gRPC\n - WEBSOCKET: WebSocket\n - JSON_RPC: JSON-RPC\n - REST: REST","type":"string","default":"UNKNOWN_RPC","enum":["UNKNOWN_RPC","GRPC","WEBSOCKET","JSON_RPC","REST"]},"url":{"type":"string","title":"URL of the endpoint"}}}},"rev_share":{"type":"array","title":"List of revenue share configurations for the service","items":{"type":"object","title":"ServiceRevenueShare message to hold revenue share configuration details","properties":{"address":{"type":"string","title":"The Bech32 address of the revenue share recipient"},"rev_share_percentage":{"type":"string","format":"uint64","title":"The percentage of revenue share the recipient will receive"}}}},"service_id":{"type":"string","title":"The Service ID for which the supplier is configured"}}}},"stake":{"description":"Coin defines a token with a denomination and an amount.\n\nNOTE: The amount field is an Int which implements the custom method\nsignatures required by gogoproto.","type":"object","properties":{"amount":{"type":"string"},"denom":{"type":"string"}},"title":"Total amount of staked uPOKT"},"unstake_session_end_height":{"type":"string","format":"uint64","title":"Session end height when supplier initiated unstaking (0 if not unstaking)"}}}}}}}}}}},"default":{"description":"An unexpected error response.","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"details":{"type":"array","items":{"type":"object","properties":{"@type":{"type":"string"}},"additionalProperties":{}}},"message":{"type":"string"}}}}}}}}
>
  
</StatusCodes>


      